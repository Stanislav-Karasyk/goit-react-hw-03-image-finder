{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/App.module.css","components/button/Button.module.css","components/imageGallery/ImageGallery.module.css","components/searchbar/Searchbar.module.css","servises/searchApi.js","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/modal/Modal.js","components/searchbar/Searchbar.js","components/App.js","index.js"],"names":["module","exports","key","searchApi","query","page","axios","get","then","data","hits","Button","onClick","type","className","styles","ImageGalleryItem","id","webformatURL","largeImageURL","getLargeImage","src","alt","ImageGalleryItemImage","e","data-largeimgurl","ImageGallery","pictures","map","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdrop","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","Overlay","children","Component","Searchbar","onSubmit","onHandleChange","slyles","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autocomplete","autofocus","placeholder","name","onChange","value","App","state","showModal","isLoading","toggleModal","setState","searchImages","prevState","catch","error","console","log","finally","preventDefault","dataset","largeimgurl","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b05277d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__JlrTT\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2DAP6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2zHPr\",\"Modal\":\"Modal_Modal__QBkll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Z2ne\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3JBl0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1KUOM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3tZdm\",\"SearchForm\":\"Searchbar_SearchForm__cooD0\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3_Cnz\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2YkSV\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3l1Si\"};","import axios from 'axios';\r\n\r\nconst key = '20189434-40624adf63a47bf5b286cda72';\r\n\r\nconst searchApi = ( query = '', page = 1 ) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(({ data }) => data.hits);\r\n};\r\nexport default searchApi;\r\n","import React from 'react';\r\nimport styles from '../button/Button.module.css';\r\n\r\nconst Button = ({onClick}) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick} >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n\r\n\r\n","import React from 'react';\r\nimport styles from '../imageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  id,\r\n  webformatURL,\r\n  onClick,\r\n  largeImageURL,\r\n  getLargeImage,\r\n}) => {\r\n  const getResult = e => {\r\n    getLargeImage(e);\r\n    onClick();\r\n  };\r\n  return (\r\n    <li className={styles.ImageGalleryItem} key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={styles.ImageGalleryItemImage}\r\n        onClick={getResult}\r\n        data-largeimgurl={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport styles from '../imageGallery/ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ pictures, onClick, getLargeImage }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          id={id}\r\n          webformatURL={webformatURL}\r\n          onClick={onClick}\r\n          largeImageURL={largeImageURL}\r\n          getLargeImage={getLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from '../modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n        this.props.onClose();\r\n      }\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdrop} >\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport slyles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit, onHandleChange, query }) => {\r\n  return (\r\n    <header className={slyles.Searchbar}>\r\n      <form className={slyles.SearchForm} onSubmit={onSubmit}>\r\n        <button type=\"submit\" className={slyles.SearchFormButton}>\r\n          <span className={slyles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={slyles.SearchFormInput}\r\n          type=\"text\"\r\n          autocomplete=\"off\"\r\n          autofocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"input\"\r\n          onChange={onHandleChange}\r\n          value={query}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport searchApi from '../servises/searchApi';\r\nimport styles from './App.module.css';\r\nimport Button from './button/Button';\r\nimport ImageGallery from './imageGallery/ImageGallery';\r\nimport Modal from './modal/Modal';\r\nimport Searchbar from './searchbar/Searchbar';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    page: 1,\r\n    pictures: [],\r\n    showModal: false,\r\n    isLoading: false,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevState) {\r\n    if (prevState.page !== this.state.page) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleModal = e => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  searchImages = () => {\r\n    this.setState({ isLoading: true });\r\n    searchApi(this.state.query, this.state.page)\r\n      .then(pictures => {\r\n        this.setState(prevState => ({\r\n          pictures: [...prevState.pictures, ...pictures],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch(error => console.log(error))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({ isLoading: true });\r\n    searchApi(this.state.query)\r\n      .then(pictures => {\r\n        this.setState({\r\n          pictures,\r\n          page: 2,\r\n        });\r\n      })\r\n      .catch(error => console.log(error))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onHandleChange = e => {\r\n    const { value } = e.target;\r\n    this.setState({ query: value });\r\n  };\r\n\r\n  getLargeImage = e => {\r\n    const largeImageURL = e.target.dataset.largeimgurl;\r\n    this.setState({\r\n      largeImageURL: largeImageURL,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { showModal, isLoading, largeImageURL } = this.state;\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar\r\n          onSubmit={this.onSubmit}\r\n          onHandleChange={this.onHandleChange}\r\n          query={this.state.query}\r\n        />\r\n        <ImageGallery\r\n          pictures={this.state.pictures}\r\n          onClick={this.toggleModal}\r\n          largeImageURL={largeImageURL}\r\n          getLargeImage={this.getLargeImage}\r\n        />\r\n\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          this.state.page !== 1 && <Button onClick={this.searchImages} />\r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}